---
import CTA from './CTA.astro';
import CTAIcon from './CTAIcon.astro';

const { lang, avatar, jobStatus, role, headline, ctas } = Astro.props;

type ActionButton = {
  label: string;
  icon: string;
  href: string;
  type: string;
};
---

<article class="mt-6 flex max-w-5xl flex-col items-center text-center lg:mt-12">
  <div class="animate-fade-in relative">
    <img
      src={avatar}
      alt="Jose Arroyo Dev Portrait"
      class="h-28 w-28 rounded-3xl border-2 border-zinc-800 object-cover shadow-2xl"
    />

    <div
      class="bg-accent-green bg-background-dark absolute -right-1 -bottom-1 h-5 w-5 rounded-full border-3"
    >
      <div
        class=`h-3.5 w-3.5 animate-pulse rounded-full ${jobStatus.state === 'open' ? 'bg-green-400' : 'bg-red-400'}`
      >
      </div>
    </div>
  </div>

  <h1
    class="mt-10 mb-6 text-5xl leading-tight font-bold tracking-tight md:mt-0 lg:text-7xl dark:text-white"
  >
    <span class="animate-in-top-fade block text-balance opacity-0">
      {role[lang].title}
    </span>

    <span class="gap-4 md:inline-flex">
      <span
        class="story-script-font animate-left-fade mt-10 block text-4xl font-extralight text-[#8D9299] opacity-0 md:mt-0 lg:text-6xl dark:text-[#D1D5DB]"
      >
        {role[lang].subtitlePrefix}
      </span>

      <span
        class="animate-right-fade slide-delay-300 inline-flex items-center gap-3 text-4xl opacity-0 lg:text-6xl"
      >
        {role[lang].subtitleHighlight}
        <svg
          class="text-accent-cyan mt-1.5"
          xmlns="http://www.w3.org/2000/svg"
          width="40"
          height="40"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-terminal-2"
          ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
            d="M8 9l3 3l-3 3"></path><path d="M13 15l3 0"></path><path
            d="M3 6a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2l0 -12"
          ></path>
        </svg>
      </span>
    </span>
  </h1>

  <p
    class="animate-in-bottom-fade mb-12 max-w-3xl text-xl leading-relaxed text-pretty text-zinc-500 lg:text-2xl"
  >
    {headline[lang]}
  </p>

  <div class="flex flex-wrap items-center justify-center gap-5">
    {
      ctas.map((cta: ActionButton) => (
        <CTA
          href={cta.href}
          label={cta.label}
          classNameList={[
            cta.label !== 'Download CV'
              ? 'animate-left-fade slide-delay-200'
              : 'animate-right-fade slide-delay-200',
          ]}
          type={cta.type}
        >
          <CTAIcon icon={cta.icon} />
        </CTA>
      ))
    }
  </div>
</article>
